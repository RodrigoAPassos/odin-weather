(()=>{const e=[],t={};async function n(n="Santos"){try{const a=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${n}&appid=362b4128cbee127097cbd92b54543c42&units=metric`),o=await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${n}&appid=362b4128cbee127097cbd92b54543c42&units=metric`),r=await a.json(),c=await o.json();t.maxTemp=r.main.temp_max,t.minTemp=r.main.temp_min,t.nowTemp=r.main.temp,t.feelTemp=r.main.feels_like,t.humidity=r.main.humidity,t.weatherDesc=r.weather[0].description,t.weatherIcon=r.weather[0].icon,t.name=r.name,e.push(t),console.log(c),function(){document.querySelector(".cityName").innerHTML=t.name,document.querySelector(".currentTemp").innerHTML=Math.round(t.nowTemp),document.querySelector(".wIcon"),document.getElementById("weatherIcon").src=`http://openweathermap.org/img/wn/${t.weatherIcon}@4x.png`;const e=document.querySelector(".wDesc"),n=t.weatherDesc.split(" ").map((e=>e[0].toUpperCase()+e.substring(1))).join(" ");e.innerHTML=n;const a=document.querySelector(".feelsLike"),o=document.querySelector(".tempMax"),r=document.querySelector(".tempMin");a.innerHTML="Feels like: "+Math.round(t.feelTemp)+"°C",o.innerHTML="Max: "+Math.round(t.maxTemp)+"°C",r.innerHTML="Min: "+Math.round(t.minTemp)+"°C"}()}catch{alert("City not found, please try again!"),location.reload()}}n(),(()=>{const e=document.getElementById("searchForm"),t=document.getElementById("citySearch");e.addEventListener("submit",(e=>{e.preventDefault(),n(t.value),t.value=""}))})()})();